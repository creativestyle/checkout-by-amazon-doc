.. _configuration:

Configuration
=============
After the successful installation you can proceed to the configuration. In OpenMage admin go to :menuselection:`creativestyle --> Amazon Pay and Login with Amazon --> Settings` (or :menuselection:`System --> Configuration --> Amazon Payments` tab).

.. image:: /images/configuration_1.png

Available options are grouped into two main sections: :guilabel:`Account credentials` and :guilabel:`Configuration` (with :guilabel:`Expert Mode` subsection).

.. _configuration-account-credentials:

Account credentials
-------------------
In this section you can define your Amazon Payments seller account credentials.

.. _configuration-credentials:

:guilabel:`Payment Region, Merchant ID and Client ID`
'''''''''''''''''''''''''''''''''''''''''''''''''''''
Fill out those fields with your Amazon Payments seller credentials. You can find them in the Amazon Seller Central.

.. _configuration-private-key:

:guilabel:`Private Key and Public Key ID`
'''''''''''''''''''''''''''''''''''''''''
Fill out those fields with the Private Key generated in Amazon Seller Central and the corresponding Public Key ID.

----

.. _configuration-advanced:

Advanced configuration
----------------------

.. _configuration-operation-mode:

:guilabel:`Operation mode`
''''''''''''''''''''''''''
Sandbox mode has been designed to test the **Amazon Checkout** service. In sandbox mode the selected payment method is not charged. Refer to the **Amazon Checkout** documentation to get more information about the sandbox environment. In general, sandbox mode should be enabled for development and staging environments for testing and always has to be disabled for production environments. Never show the sandbox buttons and widgets to buyers in your live environment.

.. _configuration-payment-action:

:guilabel:`Payment Action`
''''''''''''''''''''''''''
You can select the desired payment action taken after an order is placed. Available options are:

* :guilabel:`Authorize` (default) - order reference creation is followed by automatic authorization request. Capture must be requested manually by creating an invoice with `Capture online` option selected.
* :guilabel:`Authorize & capture` - order reference creation is followed by automatic authorization and capture request.

.. _configuration-expert-mode:

----

Expert Mode
-----------
Please click on the :guilabel:`Expert Mode` link to reveal the most advanced configuration options.

----

Frontend
~~~~~~~~

.. _configuration-frontend-display-language:

:guilabel:`Display language`
''''''''''''''''''''''''''''
In this option you can select a language which will be used for displaying all elements (froms, widgets) generated by Amazon Payments. Selected language will be also used to localize emails sent by Amazon Payments to the customer after purchase.

----

Login with Amazon
~~~~~~~~~~~~~~~~~

.. _configuration-login-with-amazon-enable:

:guilabel:`Enable`
''''''''''''''''''
By switching this option you can enable or disable **Login with Amazon** feature. This service must be enabled if you want to create customer accounts in your OpenMage shop when order is placed and to make sure that any of the orders paid with **Amazon Payments** will be never a guest order.

.. _configuration-login-with-amazon-button-color:

:guilabel:`Button color`
''''''''''''''''''''''''
In this option you can select the desired color of :guilabel:`Login with Amazon` button. The following predefined colors ara available:

* :guilabel:`Gold`
* :guilabel:`Light gray`
* :guilabel:`Dark gray`

----

Amazon Pay
~~~~~~~~~~

.. _configuration-amazon-pay-enable:

:guilabel:`Enable`
''''''''''''''''''
By switching this option you can enable or disable **Amazon Pay**. This option must be set to :guilabel:`Yes` if you want to provide payment service to your customers.

.. _configuration-amazon-pay-pdp:

:guilabel:`Display on Product Details Page`
'''''''''''''''''''''''''''''''''''''''''''
By switching this option you can enable or disable :guilabel:`Amazon Pay` button on the product details page. :guilabel:`Amazon Pay` button on the product details page allows the buyer to add the product to the cart and init the checkout with just one click.

.. _configuration-amazon-pay-button-color:

:guilabel:`Button color`
''''''''''''''''''''''''
In this option you can select the desired color of :guilabel:`Amazon Pay` button. The following predefined colors ara available:

* :guilabel:`Gold`
* :guilabel:`Light gray`
* :guilabel:`Dark gray`

----

Delivery restrictions
~~~~~~~~~~~~~~~~~~~~~

.. _configuration-delivery-restrictions-packstation:

:guilabel:`Restrict packstation addresses`
''''''''''''''''''''''''''''''''''''''''''
By enabling this option you will restrict delivery to the addresses identified as packstations.

.. _configuration-delivery-restrictions-po-box:

:guilabel:`Restrict PO box addresses`
'''''''''''''''''''''''''''''''''''''
By enabling this option you will restrict delivery to the addresses identified as PO Boxes.

----

Communication
~~~~~~~~~~~~~

.. _configuration-communication-store-name:

:guilabel:`Store name`
''''''''''''''''''''''
The value set for this option will appear as your store name on all email send by Amazon Payments.

.. _configuration-communication-soft-descriptor:

:guilabel:`Display name on bank account statement`
''''''''''''''''''''''''''''''''''''''''''''''''''
Use this option to set the name of your store shown on the bank account statements. The maximum length of the value for this option is 16 chars.

----

Alexa Delivery Notifications
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. _configuration-alexa-delivery-enable:

:guilabel:`Enable Delivery Notifications`
'''''''''''''''''''''''''''''''''''''''''
Alexa delivery notifications for Amazon Pay merchants allow you to pro-actively inform your customers if their order is on its way or has arrived.

.. _configuration-alexa-delivery-carrier-codes:

:guilabel:`Carrier codes`
'''''''''''''''''''''''''
This option allows to map carriers from your shop to the Amazon Pay predefined carriers. Please use the Carrier codes form by selecting your available carriers and assign them to the matching one in the Amazon Pay carrier list.

.. image:: /images/alexa_carrier_mapping.gif

----

Developer options
~~~~~~~~~~~~~~~~~

.. _configuration-developer-enable-logging:

:guilabel:`Enable logging`
''''''''''''''''''''''''''
The Pay with Amazon extension comes with a dedicated logging mechanism. If this option is enabled all exceptions and API calls will be saved to the appropriate log file in :file:`var/log/amazonpayments/v2` directory in your OpenMage installation.

.. _configuration-developer-allowed-ips:

:guilabel:`Allowed IPs (comma separated)`
'''''''''''''''''''''''''''''''''''''''''
For testing or debugging purposes you can restrict access to **Amazon Pay** checkout in your shop to certain IP numbers only. :guilabel:`Amazon Pay` button will be shown only for the visitors coming from allowed IPs. You can set more than one allowed IP separated with commas.
